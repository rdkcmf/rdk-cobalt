# Copyright 2022 The Cobalt Authors. All Rights Reserved.
# Copyright 2022 Collabora Ltd. All Rights Reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#
# SPDX-License-Identifier: Apache-2.0

cc_from_env = string_split(getenv("CC"))
cxx_from_env = string_split(getenv("CXX"))
ld_from_env = string_split(getenv("LD"))
ar_from_env = string_split(getenv("AR"))
nm_from_env = string_split(getenv("NM"))

rdk_toolchain_cc = cc_from_env[0]
cc_from_env -= [ cc_from_env[0] ]
rdk_toolchain_cflags = string_join(" ", cc_from_env)

# Required to ensure ASM files are built in thumb mode
rdk_toolchain_asmflags = rdk_toolchain_cflags

rdk_toolchain_cxx = cxx_from_env[0]
cxx_from_env -= [ cxx_from_env[0] ]
rdk_toolchain_cxxflags = string_join(" ", cxx_from_env)

rdk_toolchain_ld = rdk_toolchain_cxx
ld_from_env -= [ ld_from_env[0] ]
rdk_toolchain_ldflags = string_join(" ", ld_from_env )

rdk_toolchain_ar = ar_from_env[0]
rdk_toolchain_nm = nm_from_env[0]
